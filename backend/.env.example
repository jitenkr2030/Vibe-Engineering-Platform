# =============================================================================
# VIBE ENGINEERING PLATFORM - ENVIRONMENT VARIABLES
# =============================================================================
# Copy this file to .env and fill in the values
# =============================================================================

# -----------------------------------------------------------------------------
# APPLICATION SETTINGS
# -----------------------------------------------------------------------------
NODE_ENV=development
PORT=4000
FRONTEND_URL=http://localhost:3000
API_PREFIX=/api/v1

# -----------------------------------------------------------------------------
# DATABASE
# -----------------------------------------------------------------------------
# PostgreSQL Connection
DATABASE_URL=postgresql://vibe:vibe@localhost:5432/vibe?schema=public

# Redis
REDIS_URL=redis://localhost:6379

# -----------------------------------------------------------------------------
# AUTHENTICATION
# -----------------------------------------------------------------------------
# JWT Configuration
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_EXPIRES_IN=7d
JWT_REFRESH_SECRET=your-refresh-token-secret-change-in-production
JWT_REFRESH_EXPIRES_IN=30d

# Clerk Authentication (Optional - for enhanced auth)
CLERK_PUBLISHABLE_KEY=pk_test_your_clerk_publishable_key
CLERK_SECRET_KEY=sk_test_your_clerk_secret_key

# -----------------------------------------------------------------------------
# STRIPE PAYMENT CONFIGURATION
# =============================================================================
# To set up Stripe:
# 1. Create a Stripe account at https://stripe.com
# 2. Get your API keys from the Dashboard > Developers > API keys
# 3. Create products and prices for each plan
# 4. Set up the webhook endpoint
# ==============================================================================

# Stripe API Keys
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# Stripe Price IDs - Create these in Stripe Dashboard
# Go to Products > Add Product > Create price for each tier
STRIPE_PRICE_FREE_MONTHLY=
STRIPE_PRICE_FREE_YEARLY=
STRIPE_PRICE_PRO_MONTHLY=price_pro_monthly_id
STRIPE_PRICE_PRO_YEARLY=price_pro_yearly_id
STRIPE_PRICE_TEAM_MONTHLY=price_team_monthly_id
STRIPE_PRICE_TEAM_YEARLY=price_team_yearly_id
STRIPE_PRICE_ENTERPRISE_MONTHLY=price_enterprise_monthly_id
STRIPE_PRICE_ENTERPRISE_YEARLY=price_enterprise_yearly_id

# Usage-based pricing (for metered subscriptions)
STRIPE_PRICE_TOKENS=price_tokens_overage_id
STRIPE_PRICE_STORAGE=price_storage_overage_id

# Stripe Connect for Marketplace (Creator Payouts)
STRIPE_CONNECT_CLIENT_ID=ca_your_connect_client_id
STRIPE_PLATFORM_FEE_PERCENT=30

# -----------------------------------------------------------------------------
# AI PROVIDERS
# -----------------------------------------------------------------------------
# OpenAI
OPENAI_API_KEY=sk_your_openai_api_key
OPENAI_MODEL=gpt-4o
OPENAI_EMBEDDING_MODEL=text-embedding-3-small

# Anthropic
ANTHROPIC_API_KEY=sk_your_anthropic_api_key
ANTHROPIC_MODEL=claude-sonnet-4-20250514

# -----------------------------------------------------------------------------
# CLOUD SERVICES
# -----------------------------------------------------------------------------
# AWS Configuration
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key
AWS_S3_BUCKET=vibe-storage
AWS_CLOUDFRONT_DOMAIN=your-cloudfront-domain.cloudfront.net

# Vercel Deployment (Optional)
VERCEL_TOKEN=your_vercel_token
VERCEL_ORG_ID=your_org_id
VERCEL_PROJECT_ID=your_project_id

# -----------------------------------------------------------------------------
# EMAIL SERVICES
# -----------------------------------------------------------------------------
# SMTP Configuration
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=your_smtp_user
SMTP_PASS=your_smtp_password
SMTP_FROM=noreply@vibe.engineering

# Resend (Recommended for emails)
RESEND_API_KEY=re_your_resend_api_key

# -----------------------------------------------------------------------------
# MONITORING & OBSERVABILITY
# -----------------------------------------------------------------------------
# Sentry Error Tracking
SENTRY_DSN=your_sentry_dsn
SENTRY_ORG=your_sentry_org
SENTRY_PROJECT=your_sentry_project

# Prometheus Metrics
METRICS_ENABLED=true
METRICS_PORT=9090

# -----------------------------------------------------------------------------
# FEATURE FLAGS
# -----------------------------------------------------------------------------
FEATURE_MARKETPLACE_ENABLED=true
FEATURE_ANALYTICS_ENABLED=true
FEATURE_AUTOMATION_ENABLED=true
FEATURE_MULTI_TENANT_ENABLED=false

# -----------------------------------------------------------------------------
# RATE LIMITING
# -----------------------------------------------------------------------------
RATE_LIMIT_GENERAL_WINDOW_MS=900000
RATE_LIMIT_GENERAL_MAX_REQUESTS=100

# -----------------------------------------------------------------------------
# LOGGING
# -----------------------------------------------------------------------------
LOG_LEVEL=info
LOG_FORMAT=json

# -----------------------------------------------------------------------------
# SECURITY
# -----------------------------------------------------------------------------
BCRYPT_ROUNDS=12
SESSION_SECRET=your-session-secret

# CORS
CORS_ORIGIN=http://localhost:3000

# -----------------------------------------------------------------------------
# WEBHOOK ENDPOINTS
# -----------------------------------------------------------------------------
# Stripe Webhook URL (in production)
# https://your-domain.com/api/v1/billing/webhook

# GitHub Webhooks (if using GitHub integration)
# https://your-domain.com/api/v1/integrations/github/webhook

# -----------------------------------------------------------------------------
# MARKETPLACE CONFIGURATION
# -----------------------------------------------------------------------------
MARKETPLACE_COMMISSION_RATE=0.30
MARKETPLACE_MIN_PAYOUT=50
MARKETPLACE_PAYOUT_SCHEDULE=weekly
