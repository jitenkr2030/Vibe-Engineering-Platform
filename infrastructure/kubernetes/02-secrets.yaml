# Kubernetes Secrets for Vibe Platform
# Note: This file should be populated using External Secrets Operator or GitOps
# DO NOT commit actual secret values to version control

---
apiVersion: v1
kind: Secret
metadata:
  name: vibe-secrets
  namespace: vibe-production
  labels:
    app.kubernetes.io/name: vibe
    app.kubernetes.io/component: secrets
type: Opaque
stringData:
  # Database Credentials (populated from AWS Secrets Manager)
  DATABASE_URL: "postgresql://vibe_admin:${DB_PASSWORD}@vibe-postgres.cluster-xxxxx.us-east-1.rds.amazonaws.com:5432/vibe?sslmode=require"
  DB_USERNAME: "vibe_admin"
  DB_PASSWORD: ""  # Populated from external secrets

  # Redis Credentials
  REDIS_URL: "redis://:${REDIS_AUTH_TOKEN}@vibe-redis.xxxxx.cache.amazonaws.com:6379"
  REDIS_AUTH_TOKEN: ""  # Populated from external secrets

  # JWT Configuration
  JWT_SECRET: ""  # Populated from external secrets
  JWT_EXPIRES_IN: "7d"
  JWT_REFRESH_SECRET: ""  # Populated from external secrets
  JWT_REFRESH_EXPIRES_IN: "30d"

  # AI API Keys
  ANTHROPIC_API_KEY: ""  # Populated from external secrets
  OPENAI_API_KEY: ""  # Populated from external secrets

  # GitHub OAuth
  GITHUB_CLIENT_ID: ""  # Populated from external secrets
  GITHUB_CLIENT_SECRET: ""  # Populated from external secrets

  # File Storage
  AWS_ACCESS_KEY_ID: ""  # Populated from external secrets
  AWS_SECRET_ACCESS_KEY: ""  # Populated from external secrets
  AWS_REGION: "us-east-1"
  S3_BUCKET_NAME: "vibe-storage-production"

  # Email Configuration (optional)
  SMTP_HOST: ""
  SMTP_PORT: "587"
  SMTP_USER: ""
  SMTP_PASSWORD: ""
  SMTP_FROM_ADDRESS: "noreply@vibe.dev"

  # Feature Flags
  ENABLE_AI_FEATURES: "true"
  ENABLE_ANALYTICS: "true"
  ENABLE_MAINTENANCE_MODE: "false"

---
apiVersion: v1
kind: Secret
metadata:
  name: vibe-tls
  namespace: vibe-production
  labels:
    app.kubernetes.io/name: vibe
    app.kubernetes.io/component: tls
type: kubernetes.io/tls
data:
  # TLS certificate data (populated by cert-manager)
  # Use ExternalSecret or cert-manager annotation to populate
  # tls.crt: ""
  # tls.key: ""
